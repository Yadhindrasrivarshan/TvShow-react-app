(this["webpackJsonptv-show-app"]=this["webpackJsonptv-show-app"]||[]).push([[0],{34:function(e,t,c){},63:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c(28),a=c.n(s),i=(c(34),c(9)),r=c(0),l=function(){return Object(r.jsx)("div",{className:"navbar",children:Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)("nav",{className:"navbar__nav",children:[Object(r.jsx)("h3",{className:"nav__brand",children:Object(r.jsx)(i.b,{to:"/",children:Object(r.jsx)("i",{className:"fas fa-video",children:" TV SHOW SEARCH"})})}),Object(r.jsxs)("ul",{className:"nav__links",children:[Object(r.jsx)("li",{className:"links__link",children:Object(r.jsx)(i.b,{to:"/",children:"HOME"})}),Object(r.jsx)("li",{className:"links__link",children:Object(r.jsx)(i.b,{to:"/about",children:"ABOUT"})})]})]})})})},o=c.p+"static/media/spinner.dbb22bcf.gif",j=function(){return Object(r.jsx)("div",{className:"loading",children:Object(r.jsx)("img",{src:o,alt:"Loading .."})})},h=Object(n.createContext)(),b=function(e){var t=e.image,c=e.name,n=e.rating,s=e.id;return Object(r.jsxs)(i.b,{to:"/singleshow/".concat(s),className:"listitem",children:[Object(r.jsx)("img",{src:t,alt:c}),Object(r.jsxs)("div",{className:"listitem__info",children:[Object(r.jsx)("h4",{className:"info__name",children:c}),Object(r.jsx)("h4",{className:"info__rating",children:n})]})]})},d=c(11),u=Object(n.createContext)(),O=function(e){var t=e.type,c=e.message;return Object(r.jsxs)("div",{className:"alert alert-".concat(t),children:[Object(r.jsx)("i",{className:"fas fa-info-circle"}),c]})},m=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),c=t[0],s=t[1],a=Object(n.useContext)(h).searchShows,i=Object(n.useContext)(u),l=i.alert,o=i.setAlert;return Object(r.jsxs)("div",{className:"searchbar",children:[l?Object(r.jsx)(O,{message:l.message,type:l.type}):null,Object(r.jsxs)("form",{className:"searchbar__form",children:[Object(r.jsx)("input",{type:"text",placeholder:"Search For Tv Show",value:c,onChange:function(e){return s(e.target.value)}}),Object(r.jsx)("button",{className:"btn btn-block",onClick:function(e){e.preventDefault(),""===c?o("Please enter something","danger"):a(c)},children:"SEARCH"})]})]})},p=function(){var e=Object(n.useContext)(h),t=e.loading,c=e.shows;return Object(r.jsxs)("div",{className:"homepage",children:[Object(r.jsx)(m,{}),t?Object(r.jsx)(j,{}):Object(r.jsx)("div",{className:"homepage__list",children:c.map((function(e){return Object(r.jsx)(b,{id:e.show.id,image:e.show.image?e.show.image.medium:"https://www.publicdomainpictures.net/pictures/280000/velka/not-found-image-15383864787lu.jpg",name:e.show.name,rating:e.show.rating.average?e.show.rating.average:"No rating"},e.show.id)}))})]})},x=function(){return Object(r.jsxs)("div",{className:"about",children:[Object(r.jsx)("h3",{className:"about__title",children:"ABOUT PAGE"}),Object(r.jsxs)("div",{className:"about__info",children:[Object(r.jsx)("p",{children:"Tv Show Search App (v1.0)"}),Object(r.jsxs)("div",{children:[Object(r.jsx)("p",{children:"Things learnt from app build:"}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:"React (create-react-app)"}),Object(r.jsx)("li",{children:"Basic CSS & HTML"}),Object(r.jsx)("li",{children:"Axios AJAX Request"}),Object(r.jsx)("li",{children:"TVMAZE API (https://www.tvmaze.com/api)"}),Object(r.jsx)("li",{children:"React Router"}),Object(r.jsx)("li",{children:"React Context API"}),Object(r.jsx)("li",{children:"Deploying to Netlify"})]})]})]})]})},g=function(e){var t=e.match,c=Object(n.useContext)(h),s=c.getSingleShow,a=c.singleShow,i=c.loading;Object(n.useEffect)((function(){s(t.params.id)}),[]);var l;return Object(r.jsx)(r.Fragment,{children:i?Object(r.jsx)(j,{}):Object(r.jsxs)("div",{className:"singleshow",children:[Object(r.jsx)("img",{src:a.image?a.image.medium:"https://www.publicdomainpictures.net/pictures/280000/velka/not-found-image-15383864787lu.jpg",alt:a.name}),Object(r.jsxs)("div",{className:"singleshow__info",children:[Object(r.jsx)("h1",{children:a.name}),a.genres&&a.genres.map((function(e){return Object(r.jsx)("span",{className:"singleshow__genre",children:e},e)})),Object(r.jsxs)("p",{children:[Object(r.jsx)("strong",{children:"Status:"})," ",a.status&&a.status]}),Object(r.jsxs)("p",{children:[Object(r.jsx)("strong",{children:"Rating:"})," ",a.rating?a.rating.average:"No rating"]}),Object(r.jsxs)("p",{children:[Object(r.jsx)("strong",{children:"Offical Site:"})," ",a.officalSite?Object(r.jsx)("a",{href:a.officalSite,target:"_blank",rel:"noreferrer",children:a.officalSite}):"No offical site"]}),Object(r.jsx)("p",{children:a.summary&&(l=a.summary,null!==l&&""!==l&&(l=l.toString()).replace(/(<([^>]+)>)/gi,""))})]})]})})},f=c(2),v=function(){return Object(r.jsxs)(i.a,{children:[Object(r.jsx)(l,{}),Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)(f.c,{children:[Object(r.jsx)(f.a,{exact:!0,path:"/",component:p}),Object(r.jsx)(f.a,{exact:!0,path:"/about",component:x}),Object(r.jsx)(f.a,{path:"/singleshow/:id",component:g})]})})]})},w="SEARCH_SHOWS",S="SET_LOADING",_="SET_SINGLE_SHOW",N="CLEAR_SINGLE_SHOW",y="SET_ALERT",A="REMOVE_ALERT",E=function(e,t){switch(t.type){case y:return t.payload;case A:return null;default:return e}},R=function(e){var t=Object(n.useReducer)(E,null),c=Object(d.a)(t,2),s=c[0],a=c[1];return Object(r.jsx)(u.Provider,{value:{alert:s,setAlert:function(e,t){a({type:y,payload:{message:e,type:t}}),setTimeout((function(){return a({type:A})}),5e3)}},children:e.children})},k=c(13),C=c.n(k),T=c(18),H=c(19),L=c.n(H),I=c(8),P=function(e,t){switch(t.type){case S:return Object(I.a)(Object(I.a)({},e),{},{loading:!0});case w:return Object(I.a)(Object(I.a)({},e),{},{shows:t.payload,loading:!1});case _:return Object(I.a)(Object(I.a)({},e),{},{singleShow:t.payload,loading:!1});case N:return Object(I.a)(Object(I.a)({},e),{},{singleShow:{}});default:return e}},B=function(e){var t=Object(n.useReducer)(P,{shows:[],singleShow:{},loading:!1}),c=Object(d.a)(t,2),s=c[0],a=c[1],i=function(){var e=Object(T.a)(C.a.mark((function e(t){var c,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:S}),e.next=3,L.a.get("https://api.tvmaze.com/search/shows?q=".concat(t));case 3:c=e.sent,n=c.data,console.log(n),a({type:w,payload:n});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(T.a)(C.a.mark((function e(t){var c,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:S}),e.next=3,L.a.get("https://api.tvmaze.com/shows/".concat(t));case 3:c=e.sent,n=c.data,console.log(n),a({type:_,payload:n});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(h.Provider,{value:{shows:s.shows,singleShow:s.singleShow,loading:s.loading,searchShows:i,getSingleShow:l,clearSingleShow:function(){a({type:N})}},children:e.children})};a.a.render(Object(r.jsx)(B,{children:Object(r.jsx)(R,{children:Object(r.jsx)(v,{})})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.ec2f87f1.chunk.js.map